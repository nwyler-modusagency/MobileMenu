"use strict";!function(a){a.fn.mobileMenu=function(b,c){function i(b,c){var d=b.items,j=void 0!==c,k=n(j),q=p(c,k),u=l(b.title);k.append(u),j&&k.append(q);var v=r(k);h.closeStatic?(v.addClass("static"),k.addClass("closeStatic"),1===g&&a("#mobileMenuWrapper").append(v)):k.prepend(v),o(j,k),a.each(d,function(a,c){var d=t().item;"section"in c?d.addClass("more"):c.url&&m(d,c.url),d.append(c.name),k.append(d),d.on("click",function(a){if("section"in c){f++;var d=b.title;i(c.section,d)}})}),j||("top"===h.openFrom?e.css("top",s().height*-1):e.css("left",s().width*-1))}function j(){for(var b=t().open,c=0;c<3;c++){var d=t().line;b.append(d)}return a("#mobileMenuWrapper").append(b),b}function k(){".mobileMenuOpener"===h.opener&&j();var b=h.animation,c="top"===h.openFrom?{top:0}:{left:0};a(h.opener).on("click",function(d){e.css("display","inline-block"),a(this).animate({opacity:0},b.speed,function(){a(this).css("display","none")}),a(".close").css("display","block"),a(".close").animate({opacity:1},b.speed),e.animate(c,b.speed,b.easing)})}function l(a){var b=t().title;return b.append(a),b}function m(a,b){a.on("click",function(){window.location.href=b})}function n(a){var b=t().page;return b.css("height",s().height),a&&b.css("left",s().width),e.append(b),b}function o(a,b){if(a){var c=h.animation;b.animate({left:0},c.speed,c.easing)}}function p(a,b){var c=t().btn;return c.append("< "+a),c.on("click",function(a){q(b)}),c}function q(a){var b=h.animation;a.animate({left:s().width},b.speed,b.easing,function(){a.remove()})}function r(b){var c=t().close,d=h.animation;return c.on("click",function(b){if(h.closeAll)for(var g=1;g<f;g++){var i=a(".page").not(a(".page").eq(0));q(i)}c.animate({opacity:0},.2*d.speed,function(){c.css("display","none")}),e.animate({left:s().width*-1},d.speed,d.easing,function(){e.css("display","none"),a(h.opener).css("display","block"),a(h.opener).animate({opacity:1},d.speed)})}),g++,c}function s(){return{height:a(document).height(),width:a(document).width()}}function t(){var b=h.shadow?"page shadow":"page";return{page:a('<div class="'+b+'"></div>'),item:a('<div class="item"></div>'),btn:a('<div class="button back"></div>'),close:a('<div class="button close"></div>'),open:a('<div class="mobileMenuOpener"></div>'),line:a('<div class="line"></div>'),title:a('<div class="title"></div>')}}var d=c||{},e=this,f=1,g=0,h=a.extend({animation:{speed:200,easing:"easeOutSine"},closeAll:!0,openFrom:"left",shadow:!0,opener:".mobileMenuOpener",closeStatic:!0},d);i(b.section),k(),e.css("height",s().height)}}(jQuery);